Architecture Cost Breakdown (Monthly Estimates for 500 Employees)
1. Amazon S3 Storage
Assumptions: ~1KB per event, 50 events/employee/day

Storage: 500 employees × 50 events × 1KB × 30 days = ~750 MB/month

Cost: ~$0.02/month (negligible)

PUT requests: 750,000/month = ~$0.004

GET requests (Lambda): ~$0.003

Total S3: ~$0.03/month

2. AWS Lambda
Assumptions: 750,000 invocations/month, 512MB memory, 5 sec avg runtime

Invocations: 750,000 × $0.20 per 1M = $0.15

Compute: 750,000 × 5 sec × 512MB = 1,875,000 GB-seconds

After free tier (400,000 GB-sec): 1,475,000 GB-seconds × $0.0000166667 = $24.58

Total Lambda: ~$25/month

3. Amazon Bedrock (Critical Cost Driver)
Assumptions: Claude 3 Haiku (cost-effective), 1,000 input tokens + 200 output tokens per analysis

Monthly tokens: 750,000 events × 1,200 tokens = 900M tokens

Input: 750M tokens × $0.25 per 1M = $187.50

Output: 150M tokens × $1.25 per 1M = $187.50

Total Bedrock: ~$375/month

4. Amazon RDS PostgreSQL
Recommended: db.t4g.medium (2 vCPU, 4GB RAM) with Multi-AZ

Instance: $120/month (On-Demand)

Storage: 100GB GP3 = $11.50/month

Backup storage: 100GB = $9.50/month

Total RDS: ~$141/month

5. Data Transfer
Lambda → Bedrock, RDS → Power BI

Estimate: ~$5-10/month

Total Monthly Cost: ~$545 - $560
Annual Cost: ~$6,540 - $6,720
Cost Optimization Strategies
Immediate Savings (30-50% reduction):
Batch Processing: Process events in batches (every 15-30 min) instead of real-time

Reduces Lambda invocations by 90%

Saves: ~$20/month

Bedrock Optimization:

Use prompt caching (50% cost reduction on repeated context)

Batch multiple events in single Bedrock call

Use Claude 3 Haiku (cheapest) or consider Amazon Titan

Potential savings: $150-200/month

RDS Reserved Instances:

1-year commitment: 40% savings = $48/month saved

3-year commitment: 60% savings = $72/month saved

Smart Filtering:

Only analyze high-priority events with Bedrock

Use rule-based logic for routine tasks

Potential savings: $100-150/month

Optimized Monthly Cost: ~$300-350
Per-Employee Cost
Standard: $1.09 - $1.12 per employee/month

Optimized: $0.60 - $0.70 per employee/month

Scaling Considerations
For 1,000 employees:

Bedrock: ~$750/month

RDS: Same ($141) or upgrade to db.t4g.large ($240)

Lambda: ~$50/month

Total: ~$950-1,050/month

For 5,000 employees:

Bedrock: ~$3,750/month

RDS: db.r6g.xlarge (~$500/month)

Lambda: ~$250/month

Total: ~$4,500-5,000/month
